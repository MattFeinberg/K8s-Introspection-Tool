<!DOCTYPE html>
<html>
<head>
<style>
h1 {text-align: left;}
</style>
<link rel="stylesheet" href="/css/style.css">
</head>
<body>

<h1>{{.NodeName}}</h1>
<button class="homebutton" onclick="window.location.href = '/home';">Home</button>
<hr id="line"/>

<p>
Guest OS Version: {{.OSVersion}}<br>
Kubernetes Version: {{.K8sVersion}}<br>
Provider: {{.Provider}}<br>
Container Runtime: {{.ContainerRuntime}}<br>
GPUs connected: {{.AttachedGpus}}<br>
CUDA Version: {{.CudaVersion}}<br>
CUDA Driver Version: {{.DriverVersion}}<br>
</p>


<div id="GPUs" style="white-space: pre"><h3>GPUs</h3></div>
<script>
    var GPUs = {{.GPUs}}
    var length = GPUs.length
    element = document.getElementById("GPUs");
    for (var i = 0; i < length; i++) {
        var tag = document.createElement("p");
        var text = document.createTextNode("GPU Name: " + GPUs[i].ProductName + "\n");
        tag.appendChild(text);
        text = document.createTextNode("GPU Part Number: " + GPUs[i].GpuPartNumber + "\n");
        tag.appendChild(text);
        text = document.createTextNode("FB Memory Size: " + GPUs[i].FbMemoryUsage.Total + "\n");
        tag.appendChild(text);
        text = document.createTextNode("GSP Firmware Version: " + GPUs[i].GspFirmwareVersion + "\n");
        tag.appendChild(text);
        if (GPUs[i].HostVgpuMode == null) {
            text = document.createTextNode("Physical/Virtual: Physical\n");
        } else {
            text = document.createTextNode("Physical/Virtual: Virtual\n");
            // more Vgpu info here?
        }
        tag.appendChild(text);
        text = document.createTextNode("MIG: " + GPUs[i].MigMode.CurrentMig + "\n");
        tag.appendChild(text);
        element.appendChild(tag);
    }
</script>
<button class="button" onclick="window.location.href = '/clusterinfo';"> Cluster Information </button>

</body>
</html>
